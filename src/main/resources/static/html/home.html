<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compartible" content="IE-edge">
        <meta name="viewport" content="width-device-width, initial-scale=1">
        <title>ShowYourSkillz</title>
        <link rel="stylesheet" href="../css/bootstrap.min.css" media="screen" > 
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.7/angular-material.min.css">
        <link rel="stylesheet" href="../css/homestyle.css">
        <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="../css/color/color-1.css" id="color">
        <link rel="stylesheet" href="../css/sweetalert2.min.css">
        <script src="../js/sweetalert2.min.js"></script>
        <script src="../js/jquery-2.1.4.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script src="../js/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-aria.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-sanitize.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.7/angular-material.min.js"></script>
    </head>
    <body ng-app="MyApp" ng-controller="homeCntrl" ng-cloak>
        <nav id="header-nav" class="navbar default navbar-light bg-faded">
            <div class="container-fluid">
                <div class="navbar-header col-sm-2 col-xs-2 col-md-2">
                    <a class="navbar-brand" href="/html/home.html">ShowYourSkillz</a></li>
                </div>
            <div class="nav pull-right col-sm-4 col-xs-5 col-md-3">
                <ul class="nav navbar-nav pull-right">
                    <li class="btn-group" id="menuLogin">
                        <button type="text" class="btn btn-primary" style="text-transform: Capitalize;">Welcome, {{name}}</button>
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <div class="dropdown-menu">
                            <p>
                                <a class="btn btn-outline-success" href="profilePage.html">Profile</a>
                            </p>
                            <p>
                                <md-button ng-click="openDialog()">Add Skill</md-button>
                            </p>
                            <div class="dropdown-divider">
                                <a href="#" type="submit" ng-click="logout()">Logout</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            </div>
        </nav>
        <script type="text/ng-template" id="/tpl.html">
            <md-dialog aria-label="Add skill">
                <div layout="column" ng-cloak class="md-inline-form">
                    <md-toolbar>
                        <div class="md-toolbar-tools">
                            <h2>Post a new skill</h2>
                            <span flex></span>
                            <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>
                        </div>  
                    </md-toolbar>
                    <md-dialog-content layout-padding>
                        <div>
                            <form name="userForm" ng-submit="submitForm(userForm.$valid)" ng-cloak novalidate>
                                <div layout-gt-sm="row">
                                    <md-input-container class="md-block" flex-gt-xs id="skill_name"> 
                                        <label>Skill Name</label>
                                        <input ng-model="skill_name" class='form-control' id='Skill Name' placeholder='Skill Name' type='text' name="skill_name" ng-required="true">
                                        <div ng-messages="userForm.skill_name.$error" ng-show="userForm.skill_name.$invalid && userForm.skill_name.$touched">
                                            <div ng-message-exp="['required']" ng-hide="userForm.skill_name.$valid">
                                                <span translate>Skill name is required.</span>
                                            </div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div>
                                    <md-input-container class="md-block" flex>
                                        <label>Category</label>
                                        <md-select ng-model="categoryChoice" name="skill_category">
                                            <md-option ng-value="category.name" ng-repeat="category in categories">{{ category.name }}</md-option>
                                        </md-select>
                                    </md-input-container>
                                    <md-input-container class="md-block" layout-xs="row">
                                        <label class="Skill-timings">Timings</label><br/>
                                        <fieldset data-ng-repeat="choice in choices" class="md-block">
                                        <md-input-container class="day" flex-gt-sm>
                                            <label>Day</label>
                                            <md-select ng-model="choice.day">
                                                <!--<md-optgroup label="Day">-->
                                                    <md-option ng-value="weekDay.name" ng-repeat="weekDay in days">
                                                    {{weekDay.name}}
                                                    <!--</md-option>-->
                                                </md-optgroup>
                                            </md-select>
                                        </md-input-container>
                                        <md-input-container flex-gt-sm>
                                            <label>To</label>
                                            <input type="time" id="exampleInput" name="input" ng-model="choice.toTime"
                                            placeholder="To" required/>
                                        </md-input-container>
                                        <md-input-container flex-gt-sm>
                                            <label>From</label>
                                            <input type="time" id="exampleInput" name="input" ng-model="choice.fromTime"
                                            placeholder="From" required/>
                                        </md-input-container>                
                                        <md-button class="remove md-raised md-warn" ng-show="$last" ng-click="removeChoice()">-</md-button>
                                    </fieldset>
                                    <md-button class="addfields md-raised md-primary" ng-click="addNewChoice()">+</md-button>
                                </md-input-container>
                            </div></br>
                            <md-input-container class="md-block">
                                <label>Description</label>
                                    <div>
                                        <textarea ng-model="description" class='form-control' id='id_description' placeholder='Description' rows='3'></textarea>
                                    </div>
                            </md-input-container>
                            <md-dialog-actions layout="row" layout-align="center center" layout-wrap>
                                <md-button class='md-raised md-primary' type="submit" ng-disabled="userForm.$invalid" ng-click="register()">Add Skill</md-button>
                            </md-dialog-actions>          
                        </form>
                        </div>
                    </md-dialog-content>
                </div>  
            </md-dialog>
        </script>
        <script src="../js/app.js"></script>
        <script src="../js/controller.js"></script>
    </body>
</html>